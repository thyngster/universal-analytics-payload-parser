var uaPayloadParser=function(){"use strict";function t(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var n,a,o=[],r=!0,c=!1;try{for(i=i.call(t);!(r=(n=i.next()).done)&&(o.push(n.value),!e||o.length!==e);r=!0);}catch(t){c=!0,a=t}finally{try{r||null==i.return||i.return()}finally{if(c)throw a}}return o}(t,i)||function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,i)}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}return function(e,i){if(e||i){Object.assign(e.mapping.events,{add:"add_to_cart",remove:"remove_from_cart",refund:"refund",purchase:"purchase",click:"select_item",promoa:"select_promotion",detail:"view_item"});var n=Object.fromEntries(new URLSearchParams(i)),a={event:void 0,eventData:{}},o=function(){Object.keys(n).forEach((function(t){t.match(/^cd/)&&(a.eventData[e.mapping.keys[t]||"dimension_"+t.slice(2)]=n[t]),t.match(/^cm/)&&(a.eventData[e.mapping.keys[t]||"metric_"+t.slice(2)]=n[t]),t.match(/^cg/)&&(a.eventData[e.mapping.keys[t]||"content_group_"+t.slice(2)]=n[t])}))},r=function(t){var i=t||a;"gtm"===e.tms?(window.dataLayer=window.dataLayer||[],window.dataLayer.push(i)):"tealiumiq"===e.tms&&window.utag.link?window.utag.link(i):"launch"===e.tms&&window._satallite&&window._satallite.track?window._satellite.track(i.event,i.eventData):window.console&&window.console.log&&console.log(i)},c={pageview:function(){a.event="page_view",o(),Object.assign(a.eventData,{page_title:n.dt,page_location:n.dl,page_path:n.dp})},event:function(){a.event=e.eventsName||"gaEvent",o(),Object.assign(a.eventData,{category:n.ec||void 0,action:n.ea||void 0,label:n.el||void 0,value:n.ev||void 0,nonInt:!n.ni})},exception:function(){a.event="exception",o(),Object.assign(a.eventData,{exception_description:n.exd||void 0,exception_is_fatal:n.exf||void 0})},social:function(){a.event="social",o(),Object.assign(a.eventData,{social_action:n.sa||void 0,social_network:n.sn||void 0,social_target:n.st||void 0})},timing:function(){a.event="timing",o(),Object.assign(a.eventData,{timing_category:n.utc||void 0,timing_value:n.utv||void 0,timing_time:n.utt||void 0,timing_label:n.utl||void 0})},transaction:function(){a.event="transaction",o(),Object.assign(a.eventData,{transaction_id:n.ti||void 0,transaction_affiliation:n.ta||void 0,transaction_revenue:n.tr||void 0,transaction_shipping:n.ts||void 0,transaction_tax:n.tt||void 0,currency:n.cu||void 0})},item:function(){a.event="item",o(),Object.assign(a.eventData,{transaction_id:n.ti||void 0,item_id:n.ic||void 0,item_name:n.in||void 0,item_price:n.ip||void 0,item_quantity:n.iq||void 0,item_variation:n.iv||void 0,currency:n.cu||void 0})},default:function(){console.log("not supported hit type: ",n)}},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_default";return function(i){return(t[i]||t[e])()}}({pageview:c.pageview,event:c.event,timing:c.timing,social:c.social,exception:c.exception,transaction:c.transaction,item:c.item,default:c.default},"default");s(n.t);var m=0!==Object.keys(n).filter((function(t){return t.match(/pa|promo[a,0-9]|il[0-9]/)})).length;m&&e.skipTransportEvent||r(),m&&e.ecommerceEventsEnabled&&function(){if("checkout_option"!==n.pa){Object.assign(e.mapping.keys,{id:"item_id",nm:"item_name",pr:"price",qt:"item_quantity",br:"item_brand",va:"item_variant",pal:"item_list_name",ps:"index",cr:"creative"});var i={event:e.mapping.events[n.pa]||n.pa,items:{},impressions:{},promotions:{}};if("checkout"===n.pa&&e.mapping.events.checkout[n.cos]&&(i.event=e.mapping.events.checkout[n.cos]),"purchase"===n.pa&&(i.transactionDetails={id:n.ti,value:n.tr,tax:n.tt,shipping:n.ts,affiliation:n.ta,coupon:n.tcc}),Object.keys(n).forEach((function(a){var o=n[a];if(n.pa&&"checkout_option"!==n.pa){var r=a.match(/pr([0-9])(.+)/);if(r){var c=t(r,2)[1],s=e.mapping.keys[r[2]]||r[2];i.items[c]||(i.items[c]={}),"ca"===s?o.split("/").forEach((function(t,e){var n=e?e+1:"";i.items[c]["item_category"+n]=t})):s.match(/^cd/)?i.items[c][e.mapping.keys[a]||"dimension_"+s.slice(2)]=o:s.match(/^cm/)?i.items[c][e.mapping.keys[a]||"metric_"+s.slice(2)]=o:i.items[c][s]=o}}var m=a.match(/^il([0-9]+)pi([0-9]+)(.+)$/);if(m){var v=t(m,4),p=v[1],l=v[2],u=v[3],d=e.mapping.keys[u]||u,f=n["il"+p+"nm"]||"(not-set)";i.impressions[l]||(i.impressions[l]={}),i.impressions[l].item_list_name=f,"ca"===u?o.split("/").forEach((function(t,e){var n=e?e+1:"";i.impressions[l]["item_category"+n]=t})):i.impressions[l][d]=o}var _=a.match(/^promo([0-9]+)(.*)/);if(_){var g=t(_,3),h=g[1],y=g[2];i.promotions[h]||(i.promotions[h]={}),i.promotions[h][{id:"promotion_id",nm:"promotion_name",cr:"creative_name",ps:"creative_slot"}[y]]=o}})),i.event){var a={event:i.event,items:Object.values(i.items)};"purchase"===i.event&&Object.assign(a,i.transactionDetails),r(a)}Object.keys(i.impressions).length>0&&r({event:"view_item_list",items:Object.values(i.impressions)}),Object.keys(i.promotions).length>0&&r({event:"view_promotion",items:Object.values(i.promotions)})}else r({event:"checkout_option",eventData:{step:n.cos||void 0,checkout_option_value:n.col||void 0}})}()}}}();
